import { Canvas, Meta, Story } from '@storybook/addon-docs'
import { useState } from 'react'

import { Dropdown } from '../Dropdown'
import { Toggle } from '../Toggle'
import { Tooltip } from '../Tooltip'
import { Input } from '../Input'

<Meta title="MDX/Toggle" />

# Toggle

## Toggling Dropdowns

<Canvas>
  <Story name="Toggling Dropdowns">
    <Toggle>
      <button className="yobta-button-primary">Click me</button>
      <Dropdown id="dropdown">
        <div className="yobta-menu-item">Item 1</div>
        <div className="yobta-menu-item">Item 2</div>
      </Dropdown>
    </Toggle>
  </Story>
</Canvas>

## Disabling the Toggles

<Canvas>
  <Story name="Disabling the Toggles">
    {() => {
      const [disabled, setDisabled] = useState(true)
      return (
        <>
          <Toggle disabled={disabled}>
            <button className="yobta-button-primary">
              {disabled && "Don't "} Click me
            </button>
            <Dropdown id="dropdown">
              <div className="yobta-menu-item">Item 1</div>
              <div className="yobta-menu-item">Item 2</div>
            </Dropdown>
          </Toggle>
          <div className="yobta-menu">
            <label className="yobta-menu-item">
              <span className="flex-1">Disabled</span>
              <input
                className="yobta-switch yobta-primary checked:yobta-error"
                type="checkbox"
                checked={disabled}
                onChange={() => setDisabled(last => !last)}
              />
            </label>
          </div>
        </>
      )
    }}
  </Story>
</Canvas>

## Toggling Tooltips

<Canvas>
  <Story name="Toggling Tooltips">
    <Toggle>
      <button className="yobta-button-primary">Hover me</button>
      <Tooltip id="tooltip">Tooltip</Tooltip>
    </Toggle>
  </Story>
</Canvas>

## Toggling Input

<Canvas>
  <Story name="Toggling Input">
    <Toggle>
      <Input caption="Focus Me" />
      <Dropdown
        blockLevel
        id="suggest"
        preferredPlacement="bottom-left"
        offset={1}
      >
        <div className="yobta-menu-item">Item 1</div>
        <div className="yobta-menu-item">Item 2</div>
      </Dropdown>
    </Toggle>
  </Story>
</Canvas>

## On Toggle Callback

<Canvas>
  <Story name="On Toggle Callback">
    <Toggle onToggle={console.log}>
      <button className="yobta-button-primary">Click me</button>
      <Dropdown id="dropdown">
        <div className="yobta-menu-item">Item 1</div>
        <div className="yobta-menu-item">Item 2</div>
      </Dropdown>
    </Toggle>
  </Story>
</Canvas>
